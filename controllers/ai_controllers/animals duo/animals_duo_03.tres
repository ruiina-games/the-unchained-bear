[gd_resource type="BehaviorTree" load_steps=27 format=3 uid="uid://dp30f3tlgh77f"]

[ext_resource type="Script" path="res://ai/tasks/play_tree_anim.gd" id="1_33btb"]
[ext_resource type="Script" path="res://ai/tasks/conditions/check_if_dead.gd" id="1_fyoi6"]
[ext_resource type="Script" path="res://ai/tasks/conditions/check_distance.gd" id="2_m41cp"]
[ext_resource type="Script" path="res://ai/tasks/beast tameress/move.gd" id="3_j2iuk"]
[ext_resource type="Script" path="res://ai/tasks/random_attack.gd" id="4_gwowb"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_yrnqr"]
var/is_dead/name = &"is_dead"
var/is_dead/type = 1
var/is_dead/value = false
var/is_dead/hint = 0
var/is_dead/hint_string = ""
var/can_move/name = &"can_move"
var/can_move/type = 1
var/can_move/value = false
var/can_move/hint = 0
var/can_move/hint_string = ""

[sub_resource type="BTCondition" id="BTCondition_wkg7q"]
script = ExtResource("1_fyoi6")

[sub_resource type="BTAction" id="BTAction_hhosj"]
custom_name = "Lion Death"
script = ExtResource("1_33btb")
animation_condition = &"death"

[sub_resource type="BTSequence" id="BTSequence_xxs17"]
children = [SubResource("BTCondition_wkg7q"), SubResource("BTAction_hhosj")]

[sub_resource type="BTAction" id="BTAction_fudo8"]
custom_name = "Idling"
script = ExtResource("1_33btb")
animation_condition = &"idle"

[sub_resource type="BTAction" id="BTAction_adcod"]
custom_name = "Perform Roar"
script = ExtResource("1_33btb")
animation_condition = &"roar"

[sub_resource type="BTWait" id="BTWait_nvoek"]

[sub_resource type="BTSequence" id="BTSequence_w33px"]
children = [SubResource("BTAction_fudo8"), SubResource("BTAction_adcod"), SubResource("BTWait_nvoek")]

[sub_resource type="BTCooldown" id="BTCooldown_r3i81"]
custom_name = "Roar"
children = [SubResource("BTSequence_w33px")]

[sub_resource type="BTCondition" id="BTCondition_di873"]
script = ExtResource("2_m41cp")
target_distance = 600.0
check_mode = 0

[sub_resource type="BTAction" id="BTAction_kmvwf"]
script = ExtResource("1_33btb")
animation_condition = &"run"

[sub_resource type="BTAction" id="BTAction_rvy7m"]
script = ExtResource("3_j2iuk")
move_speed = 500.0
tolerance = 600.0
should_stop_at_enemy = true

[sub_resource type="BTSequence" id="BTSequence_vhhrt"]
children = [SubResource("BTCondition_di873"), SubResource("BTAction_kmvwf"), SubResource("BTAction_rvy7m")]

[sub_resource type="BTCooldown" id="BTCooldown_u4eis"]
duration = 1.0
custom_name = "Movement"
children = [SubResource("BTSequence_vhhrt")]

[sub_resource type="BTCondition" id="BTCondition_f3bbe"]
script = ExtResource("2_m41cp")
target_distance = 700.0
check_mode = 1

[sub_resource type="BTAction" id="BTAction_h3c24"]
script = ExtResource("4_gwowb")
available_attacks = 3

[sub_resource type="BTSequence" id="BTSequence_w8rld"]
children = [SubResource("BTCondition_f3bbe"), SubResource("BTAction_h3c24")]

[sub_resource type="BTCooldown" id="BTCooldown_pvtgr"]
duration = 1.0
custom_name = "Attack"
children = [SubResource("BTSequence_w8rld")]

[sub_resource type="BTAction" id="BTAction_w06f3"]
script = ExtResource("1_33btb")
animation_condition = &"idle"

[sub_resource type="BTSequence" id="BTSequence_lrpqx"]
children = [SubResource("BTAction_w06f3")]

[sub_resource type="BTSelector" id="BTSelector_jek1f"]
children = [SubResource("BTSequence_xxs17"), SubResource("BTCooldown_r3i81"), SubResource("BTCooldown_u4eis"), SubResource("BTCooldown_pvtgr"), SubResource("BTSequence_lrpqx")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_yrnqr")
root_task = SubResource("BTSelector_jek1f")
